import{a as A,r as o,o as a,c as s,w as e,e as n,f as c,t as m,b,F as g,l as x,m as v,q as K,T as X,u as t,j as L,h as F}from"./entry.2b4f5e4d.js";import{u as M}from"./useMainStore.a9115b18.js";const R={__name:"AnswersCard",props:{answers:{type:Array,required:!0},code:{type:Object,required:!0}},setup(f){return(h,u)=>{const r=o("v-card-title"),_=o("v-card-text"),y=o("v-card"),w=o("v-btn");return a(),s(y,{class:"main-card"},{default:e(()=>[n(r,null,{default:e(()=>[c("Respuestas "+m(f.code.formulario.name),1)]),_:1}),n(_,{class:"content"},{default:e(()=>[(a(!0),b(g,null,x(f.code.formulario.form,(i,k)=>(a(),s(y,{key:k,"max-width":"860px",width:"calc(100vw - 40px)"},{default:e(()=>[n(r,null,{default:e(()=>[c(m(i.question),1)]),_:2},1024),i.type==="CHECKBOX"?(a(),s(_,{key:0},{default:e(()=>[c(m(f.answers[k].join(", ")),1)]),_:2},1024)):(a(),s(_,{key:1},{default:e(()=>[c(m(f.answers[k]),1)]),_:2},1024))]),_:2},1024))),128)),n(w,{color:"primary",to:"/mainpage"},{default:e(()=>[c("Volver al inicio")]),_:1})]),_:1})]),_:1})}}},D=A(R,[["__scopeId","data-v-edc1f526"]]);const $={class:"main"},z={class:"buttons"},G={__name:"FormPage",setup(f){const h=M(),u=v(),r=v([]),_=v(!1),y=v(),w=v(!1),i=v(!1);K(async()=>{w.value=!0,u.value=await h.fetchForms(),r.value=u.value.formulario.form.map(V=>V.type==="CHECKBOX"?[]:""),w.value=!1});const k=async()=>{i.value=!0;const{valid:V}=await y.value.validate();i.value=!1,V&&(_.value=!0)};return(V,J)=>{const N=o("v-progress-linear"),B=o("v-card-title"),T=o("v-card-subtitle"),O=o("v-select"),C=o("v-card-text"),P=o("v-text-field"),S=o("v-checkbox"),E=o("v-card"),q=o("v-btn"),j=o("v-form"),H=D;return a(),b("div",$,[n(X,{name:"page",mode:"out-in"},{default:e(()=>{var U;return[t(w)?(a(),s(N,{key:0,indeterminate:"",color:"primary"})):(U=t(u))!=null&&U.formulario&&!t(_)?(a(),s(E,{key:1,class:"main-card"},{default:e(()=>[n(B,null,{default:e(()=>[c(m(t(u).formulario.name),1)]),_:1}),n(T,null,{default:e(()=>[c(m(t(u).formulario.descripcion),1)]),_:1}),n(j,{ref_key:"formComponent",ref:y},{default:e(()=>[n(C,{class:"content"},{default:e(()=>[(a(!0),b(g,null,x(t(u).formulario.form,(p,d)=>(a(),s(E,{key:d,"max-width":"860px",width:"calc(100vw - 40px)"},{default:e(()=>[n(B,null,{default:e(()=>[c(m(p.question),1)]),_:2},1024),p.type==="SELECT"?(a(),s(C,{key:0},{default:e(()=>[n(O,{modelValue:t(r)[d],"onUpdate:modelValue":l=>t(r)[d]=l,items:p.items,"item-value":"value","item-title":"value",rules:[l=>!!l&&l!==""||"Este campo es requerido"]},null,8,["modelValue","onUpdate:modelValue","items","rules"])]),_:2},1024)):p.type==="INPUT"?(a(),s(C,{key:1},{default:e(()=>[n(P,{modelValue:t(r)[d],"onUpdate:modelValue":l=>t(r)[d]=l,label:"Respuesta...",rules:[l=>!!l&&l!==""||"Este campo es requerido"]},null,8,["modelValue","onUpdate:modelValue","rules"])]),_:2},1024)):p.type==="CHECKBOX"?(a(),s(C,{key:2},{default:e(()=>[(a(!0),b(g,null,x(p.items,l=>(a(),s(S,{key:l,modelValue:t(r)[d],"onUpdate:modelValue":I=>t(r)[d]=I,label:l,value:l,"hide-details":""},null,8,["modelValue","onUpdate:modelValue","label","value"]))),128))]),_:2},1024)):F("",!0)]),_:2},1024))),128)),L("div",z,[n(q,{color:"primary",outlined:"",loading:t(i),to:"/mainpage"},{default:e(()=>[c("Volver")]),_:1},8,["loading"]),n(q,{color:"primary",onClick:k},{default:e(()=>[c("Confirmar")]),_:1})])]),_:1})]),_:1},512)]),_:1})):t(_)?(a(),s(H,{key:2,answers:t(r),code:t(u)},null,8,["answers","code"])):F("",!0)]}),_:1})])}}},Y=A(G,[["__scopeId","data-v-c253c9d7"]]);export{Y as default};
